<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>canvasAnimation</title>
    <style media="screen">
      canvas{
        border:  3px #ccc solid;
      }
    </style>
  </head>
  <body>
    <section class="container">
      <canvas id="myCanvas" width="450" height="450"></canvas>
    </section>
    <script type="text/javascript">
      var mainCanvas = document.querySelector('#myCanvas');
      var mainContext =  mainCanvas.getContext("2d");

      var canvasWidth = mainCanvas.width;
      var canvasHeight = mainCanvas.height;
      var angle = 0;

      function drawCircle() {
        mainContext.clearRect(0, 0, canvasWidth, canvasHeight);

        mainContext.fillStyle = "#eee";
        mainContext.fillRect(0, 0, canvasWidth, canvasHeight);

        mainContext.beginPath();

        var radius=25 + 150 * Math.abs(Math.cos(angle));
        mainContext.arc(225, 225, radius, 0, Math.PI*2, false);
        mainContext.closePath();

        mainContext.fillStyle="#006699";
        mainContext.fill();

        angle += Math.PI / 64;

        window.requestAnimationFrame(drawCircle);
      }
      drawCircle();
    </script>
  </body>
</html>
